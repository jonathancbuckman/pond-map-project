<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oklahoma Frac Pond Survey Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="css/style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

<!-- End of favicon code -->

</head>
<body>
    <div id="map"></div>

    <!-- Welcome Modal -->
    <div id="welcome-modal" class="welcome-modal" aria-hidden="true" role="dialog" aria-labelledby="welcome-title" aria-modal="true">
        <div class="welcome-backdrop" data-close="backdrop"></div>
        <div class="welcome-dialog" role="document">
            <button class="welcome-close" type="button" aria-label="Close welcome dialog" data-close="button">×</button>
            <h2 id="welcome-title">Welcome</h2>
            <p>
                This interactive map presents bathymetry data for selected ponds and waterbodies
                surveyed to estimate storage volumes available for hydraulic fracturing operations.
                This data is accurate as of the survey dates shown, and is intended for reference only.
                More ponds will be added over time. The highlighted borders represent the shoreline 
                boundaries on the date of the surveys. 3D models of the ponds are available.
            </p>
            <p>
                Zoom in and tap or click any highlighted pond to view maximum depth, stage–volume tables,
                surface area, and additional details.
            </p>
            <p id="contact-line">
                Questions? Or if you would like me to survey a pond for you in this area, please contact
                <a id="obf-email" href="#" rel="nofollow noopener noreferrer"
                   data-u="am9uYXRoYW5jYnVja21hbg==" data-d="Z21haWw=" data-t="Y29t"
                   aria-label="email address (revealed on click)">[email&nbsp;protected]</a>.
            </p>
            <button class="welcome-action" type="button" data-close="primary">Explore Map</button>
        </div>
    </div>

    <!-- Core Libraries Only -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/main.js"></script>
    <footer class="site-footer" role="contentinfo">
        <nav class="footer-nav" aria-label="Footer">
          <a class="footer-link" href="index.html">Home</a>
          <a class="footer-link" href="layflat-modeler.html">Layflat Hydraulic Modeler</a>
        </nav>
          <a id="resume-link" class="footer-link" href="resume.html" data-protected="true">Resume</a>
      </footer>
  
      <script>
        (function(){
          // Simple client-side gate. Note: this only deters casual access.
          const link = document.getElementById('resume-link');
          if (!link) return;
  
          const PASSWORD = 'water2025';
          const STORAGE_KEY = 'resume_access_granted_v1';
  
          function hasAccess() {
            try { return sessionStorage.getItem(STORAGE_KEY) === 'true'; } catch(_) { return false; }
          }
          function grantAccess() {
            try { sessionStorage.setItem(STORAGE_KEY, 'true'); } catch(_) {}
          }
  
          function promptForPassword() {
            // Minimal inline prompt for broad browser support
            const input = window.prompt('Enter password to view the resume:');
            if (input === null) return false; // user canceled
            if (input === PASSWORD) {
              grantAccess();
              return true;
            }
            window.alert('Incorrect password.');
            return false;
          }
  
          function handleNavigate(ev){
            // If we already granted in this tab, allow through
            if (hasAccess()) return;
            ev.preventDefault();
            if (promptForPassword()) {
              // Navigate after success
              window.location.href = link.getAttribute('href') || 'resume.html';
            }
          }
  
          link.addEventListener('click', handleNavigate);
          link.addEventListener('keydown', function(e){
            if (e.key === 'Enter' || e.key === ' ') {
              handleNavigate(e);
            }
          });
        })();
      </script>
    </body>
    </html>